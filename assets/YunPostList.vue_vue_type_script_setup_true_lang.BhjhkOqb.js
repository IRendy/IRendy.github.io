import{p as j}from"./chunks/@vueuse/motion.Dw5wzR-P.js";import{i as D,l as B,_ as M,g as I,m as A}from"./app.BWfKJ-8f.js";import"./chunks/dayjs.BdcnXKr1.js";import{u as E}from"./chunks/vue-router.PrcBHHoh.js";import{M as i,R as z,ac as a,aa as y,ae as c,O as o,ap as k,U as C,al as T,a9 as L,aj as P,ab as t,af as d,ai as F,ah as S,a8 as H,w as O,y as G,as as U,av as q,D as Y,_ as w,ak as J}from"./framework.CsAdMATk.js";import{b as K,_ as Q,a as W}from"./YunPostMeta.vue_vue_type_style_index_0_lang.DAdqu0Eg.js";import{u as X}from"./post.CJ4La0gx.js";import{u as Z}from"./chunks/vue-i18n.DussWN8e.js";function ee(e){const l=E(),s=i(()=>Number.parseInt(l.params.page||"1")),n=i(()=>Math.ceil(e.total/e.pageSize)),u=i(()=>s.value===1||s.value===n.value?3:2);function f(r){return r===1||r===n.value?!0:r>s.value-u.value&&r<s.value+u.value}function p(r){return r===1?"/":`/page/${r}`}const v=i(()=>p(s.value-1)),_=i(()=>p(s.value+1)),h=i(()=>s.value>1),b=i(()=>s.value<n.value);return{curPage:s,totalPages:n,showPage:f,surLen:u,getTo:p,prevTo:v,nextTo:_,showPrev:h,showNext:b}}const te={class:"pagination"},se=z({__name:"YunPagination",props:{total:{},pageSize:{}},setup(e,{expose:l}){const s=e,{curPage:n,totalPages:u,showPage:f,getTo:p,surLen:v,prevTo:_,nextTo:h,showPrev:b,showNext:r}=ee({total:s.total,pageSize:s.pageSize});return l({curPage:n}),($,g)=>{const x=L("RouterLink");return t(),a("nav",te,[o(b)?(t(),y(x,{key:0,class:"page-number",to:o(_),"aria-label":"prev"},{default:k(()=>[...g[0]||(g[0]=[d("div",{"i-ri-arrow-left-s-line":""},null,-1)])]),_:1},8,["to"])):c("v-if",!0),(t(!0),a(C,null,T(o(u),m=>(t(),a(C,null,[o(f)(m)?(t(),y(x,{key:m,class:P(["page-number",o(n)===m&&"active"]),to:o(p)(m)},{default:k(()=>[F(S(m),1)]),_:2},1032,["class","to"])):m===o(n)-o(v)?(t(),a("span",{key:`prev-space-${m}`,class:"space",disabled:""}," ... ")):m===o(n)+o(v)?(t(),a("span",{key:`next-space-${m}`,class:"space",disabled:""}," ... ")):c("v-if",!0)],64))),256)),o(r)?(t(),y(x,{key:1,class:"page-number",to:o(h),"aria-label":"next"},{default:k(()=>[...g[1]||(g[1]=[d("div",{"i-ri-arrow-right-s-line":""},null,-1)])]),_:1},8,["to"])):c("v-if",!0)])}}}),oe={},ae={w:"full",h:"30%",class:"absolute bottom-0 bg-linear-to-t from-$va-c-bg-light to-transparent z-1"};function ne(e,l){return t(),a("div",ae)}const le=H(oe,[["render",ne]]),re=z({__name:"ValaxyDynamicComponent",props:{templateStr:{},data:{default:()=>({})}},setup(e){const l=e,s=O(null);async function n(){const f={render:j(l.templateStr),data:()=>l.data};s.value=q(()=>Promise.resolve(f))}return G(()=>[l.templateStr,l.data],()=>{n()},{immediate:!0}),(u,f)=>(t(),y(U(s.value)))}}),ce={class:"flex flex-1 of-hidden justify-start items-start post-card-info",w:"full"},ie=["src","alt"],ue={class:"flex-center title text-2xl",text:"center",font:"serif black"},pe={flex:"~ grow col",w:"full",justify:"center",items:"center"},me={key:0,py:"1"},fe={key:0,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2"},de=["innerHTML"],ve={key:2,m:"b-5"},_e=["href"],ge={w:"full",class:"yun-card-actions flex justify-between p-4","min-h":"10",text:"sm"},ye={class:"post-categories inline-flex",flex:"wrap 1",items:"center"},he=z({__name:"YunPostCard",props:{post:{}},setup(e){const l=e,{t:s}=Z(),{$tO:n}=D(),{icon:u,styles:f,color:p}=X(l.post.type),v=Y("bg-linear-to-r gradient-text from-$va-c-primary to-$va-c-primary-lighter"),_=i(()=>p?"":l.post.postTitleClass||v.value);return(h,b)=>{const r=M,$=K,g=re,x=le,m=Q,R=W,N=B,V=L("RouterLink");return t(),y(V,{class:"post-card-link flex-center w-full",to:e.post.path||""},{default:k(()=>[w(N,{class:P(["w-full hover:scale-102 hover:z-1",e.post.cover?"post-card-image":"post-card"]),mx:"4",overflow:"hidden",style:J(o(f))},{default:k(()=>[d("div",ce,[e.post.cover?(t(),a("img",{key:0,src:e.post.cover,alt:o(s)("post.cover"),width:"320",height:"180",w:"40%",h:"54",class:"cover object-cover object-center md:shadow",loading:"lazy"},null,8,ie)):c("v-if",!0),d("div",{class:P(["flex flex-col items-center relative",e.post.cover&&"h-54"]),w:"full"},[w(r,{class:P(["post-title-link cursor-pointer",_.value]),to:e.post.path||"",m:"t-3"},{default:k(()=>[d("div",ue,[e.post.type?(t(),a("div",{key:0,class:P(["inline-flex",o(u)]),m:"r-1"},null,2)):c("v-if",!0),d("span",null,S(o(n)(e.post.title)),1)])]),_:1},8,["to","class"]),w($,{frontmatter:e.post},null,8,["frontmatter"]),d("div",pe,[e.post.excerpt_type==="text"?(t(),a("div",me)):c("v-if",!0),e.post.excerpt?(t(),a(C,{key:1},[e.post.excerpt_type==="html"?(t(),a("div",fe,[w(g,{"template-str":e.post.excerpt},null,8,["template-str"])])):(t(),a("div",{key:1,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-8 y-2",innerHTML:e.post.excerpt},null,8,de))],64)):(t(),a("div",ve))]),c(' <div m="b-5" /> '),e.post.excerpt?(t(),y(x,{key:0})):c("v-if",!0),e.post.url?(t(),a("a",{key:1,href:e.post.url,class:"post-link-btn shadow hover:shadow-md z-2",rounded:"",target:"_blank",m:"b-4"},S(o(s)("post.view_link")),9,_e)):c("v-if",!0)],2)]),c(" always show "),d("div",ge,[d("div",ye,[w(m,{m:"l-1",categories:e.post.categories},null,8,["categories"])]),e.post.tags?(t(),y(R,{key:0,m:"1",tags:e.post.tags},null,8,["tags"])):c("v-if",!0)])]),_:1},8,["class","style"])]),_:1},8,["to"])}}}),xe={flex:"~ col",class:"yun-post-list gap-4 items-center",w:"full",p:"x-4 lt-sm:0"},we={key:0,py2:"",op50:"","text-center":""},Le=z({__name:"YunPostList",props:{type:{},posts:{}},setup(e){const l=e,s=Y(),n=i(()=>s.value?.curPage||1),u=I(),f=A(),p=i(()=>f.value.pageSize),v=i(()=>(l.posts||u.postList).filter(h=>!h.hide)),_=i(()=>v.value.slice((n.value-1)*p.value,n.value*p.value));return(h,b)=>{const r=he,$=se;return t(),a(C,null,[d("div",xe,[_.value.length?c("v-if",!0):(t(),a("div",we," 博主还什么都没写哦～ ")),(t(!0),a(C,null,T(_.value,(g,x)=>(t(),y(r,{key:x,post:g},null,8,["post"]))),128))]),w($,{ref_key:"paginationRef",ref:s,class:"mt-5",total:v.value.length,"page-size":p.value},null,8,["total","page-size"])],64)}}});export{Le as _};
